# THÃ‰RÃˆSE CLI ğŸ‡«ğŸ‡·

**Assistant de code IA franÃ§ais propulsÃ© par Mistral AI**

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.11+-blue?logo=python" alt="Python 3.11+">
  <img src="https://img.shields.io/badge/Mistral-Large-orange" alt="Mistral AI">
  <img src="https://img.shields.io/badge/License-MIT-green" alt="MIT License">
  <img src="https://img.shields.io/badge/Made_in-France-red" alt="Made in France">
</p>

```
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—
 â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
    â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•
```

---

**THÃ‰RÃˆSE** (Terminal Helper for Engineering, Research, Editing, Software & Execution) est un assistant de code en ligne de commande, 100% franÃ§ais, inspirÃ© de Claude Code mais propulsÃ© par **Mistral AI**.

## Pourquoi THÃ‰RÃˆSE ?

| | THÃ‰RÃˆSE | Claude Code |
|---|---------|-------------|
| **IA** | Mistral AI ğŸ‡«ğŸ‡· | Anthropic ğŸ‡ºğŸ‡¸ |
| **Langage** | Python | TypeScript |
| **Taille** | ~30 MB | ~200 MB |
| **Prix API** | â‚¬â‚¬ | â‚¬â‚¬â‚¬â‚¬ |
| **Open Source** | âœ… Oui | âŒ Non |
| **SouverainetÃ©** | ğŸ‡«ğŸ‡· France | ğŸ‡ºğŸ‡¸ USA |

## Installation

### PrÃ©requis
- Python 3.11+
- [UV](https://docs.astral.sh/uv/) (gestionnaire de packages ultra-rapide)

### Installation rapide

```bash
# Installer UV si nÃ©cessaire
curl -LsSf https://astral.sh/uv/install.sh | sh

# Installer THÃ‰RÃˆSE globalement
uv tool install therese-cli

# Ou depuis les sources
git clone https://github.com/synoptia/therese-cli.git
cd therese-cli
uv tool install .
```

### Configuration

```bash
# Ajouter votre clÃ© API Mistral
export MISTRAL_API_KEY="votre-clÃ©-api"

# (Optionnel) Ajouter Ã  ~/.zshrc ou ~/.bashrc pour persister
echo 'export MISTRAL_API_KEY="votre-clÃ©-api"' >> ~/.zshrc
```

Obtenez une clÃ© API sur [console.mistral.ai](https://console.mistral.ai/)

## Utilisation

```bash
# Lancer THÃ‰RÃˆSE
therese

# Lancer dans un dossier spÃ©cifique
therese /chemin/vers/projet
```

### Commandes slash

| Commande | Description |
|----------|-------------|
| `/help` | Affiche l'aide |
| `/init` | Initialise un projet avec THERESE.md |
| `/clear` | Efface la conversation |
| `/reset` | Reset complet (conversation + mÃ©moire) |
| `/tree` | Affiche l'arborescence du projet |
| `/tasks` | Affiche la liste des tÃ¢ches |
| `/status` | Affiche le statut (modÃ¨le, mode, tokens) |
| `/model` | Change le modÃ¨le Mistral |
| `/mode` | Change le mode (auto/safe/yolo) |
| `/stats` | Statistiques de la session |

### Raccourcis clavier

| Raccourci | Action |
|-----------|--------|
| `Enter` | Envoyer le message |
| `Ctrl+J` | Nouvelle ligne |
| `â†‘` / `â†“` | Historique des prompts |
| `Ctrl+C` | Quitter |
| `Ctrl+L` | Effacer l'Ã©cran |

### Modes d'approbation

- **`auto`** (dÃ©faut) : Confirmation pour les actions dangereuses uniquement
- **`safe`** : Confirmation pour toutes les modifications
- **`yolo`** : Aucune confirmation (Ã  vos risques !)

## FonctionnalitÃ©s

### 18 outils intÃ©grÃ©s

**Fichiers**
- `read_file` - Lire un fichier
- `write_file` - Ã‰crire un fichier
- `edit_file` - Ã‰diter un fichier (rechercher/remplacer)
- `glob` - Rechercher des fichiers par pattern
- `grep` - Rechercher du texte dans les fichiers
- `tree` - Afficher l'arborescence
- `diff` / `diff_preview` - Comparer des fichiers

**Shell & Git**
- `bash` - ExÃ©cuter des commandes shell
- `git` - Commandes git
- `git_commit` - CrÃ©er un commit
- `git_status` - Statut du repo

**Web**
- `web_fetch` - RÃ©cupÃ©rer une page web
- `web_search` - Recherche DuckDuckGo

**Projet**
- `project_detect` - DÃ©tecter le type de projet
- `project_run` - Lancer le projet

**TÃ¢ches**
- `task_list` / `task_add` / `task_update` - GÃ©rer les tÃ¢ches

### Support multi-modal (Vision)

THÃ‰RÃˆSE supporte l'analyse d'images via Mistral Vision (Pixtral) :

```bash
# Coller le chemin d'une image dans l'input
/Users/vous/image.png Qu'est-ce qu'il y a sur cette image ?
```

### Messages de rÃ©flexion

25 messages humoristiques franÃ§ais pendant que THÃ‰RÃˆSE rÃ©flÃ©chit :
- "Fait cuire une baguette..."
- "Affine le camembert..."
- "PrÃ©pare le saucisson..."
- etc.

### ThÃ¨me Bleu Blanc Rouge

- **TH** : Bleu (#0055A4)
- **ERE** : Blanc (#FFFFFF)
- **SE** : Rouge (#EF4135)
- **CLI** : Orange Mistral (#FF7000)

## Architecture

```
src/therese/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ __main__.py          # Entry point CLI
â”œâ”€â”€ agent.py             # Agent Mistral avec function calling
â”œâ”€â”€ commands.py          # 12 commandes slash
â”œâ”€â”€ config.py            # Configuration
â”œâ”€â”€ memory.py            # SystÃ¨me de mÃ©moire THERESE.md
â”œâ”€â”€ tools/               # 18 outils
â”‚   â”œâ”€â”€ base.py          # Classe de base Tool
â”‚   â”œâ”€â”€ file.py          # read, write, edit
â”‚   â”œâ”€â”€ search.py        # glob, grep
â”‚   â”œâ”€â”€ shell.py         # bash
â”‚   â”œâ”€â”€ git.py           # git, commit, status
â”‚   â”œâ”€â”€ web.py           # fetch, search
â”‚   â””â”€â”€ ...
â””â”€â”€ ui/
    â”œâ”€â”€ app.py           # Application Textual
    â””â”€â”€ theme.py         # CSS Textual
```

## Stack technique

| Technologie | RÃ´le | Pourquoi |
|-------------|------|----------|
| **Python 3.11+** | Runtime | Ã‰cosystÃ¨me IA mature, SDK Mistral prioritaire |
| **UV** | Package manager | 10-100x plus rapide que pip (Ã©crit en Rust) |
| **Mistral AI** | LLM | SouverainetÃ© FR, function calling robuste, 2-3x moins cher |
| **Textual** | UI terminal | CSS natif, streaming Markdown O(1) |
| **Rich** | Formatage | Markdown, syntax highlighting |

## DÃ©veloppement

```bash
# Cloner le repo
git clone https://github.com/synoptia/therese-cli.git
cd therese-cli

# Installer les dÃ©pendances
uv sync

# Lancer en mode dev
uv run therese

# RÃ©installer aprÃ¨s modifications
uv tool uninstall therese-cli && uv tool install .

# Nettoyer le cache UV si besoin
uv cache clean
```

## Roadmap

- [x] Agent Mistral avec function calling
- [x] 18 outils (fichiers, shell, git, web)
- [x] Streaming Markdown optimisÃ©
- [x] Support images (Mistral Vision)
- [x] Historique de prompts (flÃ¨ches â†‘â†“)
- [x] Barre de statut live (temps + tokens)
- [ ] Mode local avec Ollama
- [ ] MCP (Model Context Protocol)
- [ ] Plugins/extensions
- [ ] Checkpoints/rewind

## Contribuer

Les contributions sont les bienvenues ! Voir [CONTRIBUTING.md](CONTRIBUTING.md) pour les guidelines.

1. Fork le projet
2. CrÃ©er une branche (`git checkout -b feature/ma-feature`)
3. Commit (`git commit -m 'feat: ma feature'`)
4. Push (`git push origin feature/ma-feature`)
5. Ouvrir une Pull Request

## Licence

MIT License - voir [LICENSE](LICENSE)

## CrÃ©dits

CrÃ©Ã© avec â¤ï¸ par [Synoptia](https://synoptia.fr)

PropulsÃ© par [Mistral AI](https://mistral.ai) ğŸ‡«ğŸ‡·

---

<p align="center">
  <strong>THÃ‰RÃˆSE</strong> - L'IA franÃ§aise qui code avec vous ğŸ“
</p>
